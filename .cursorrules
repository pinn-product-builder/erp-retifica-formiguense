## Regras Gerais de Código

### Comentários no Código
- **NÃO inserir comentários no código**
- O código deve ser autoexplicativo através de nomes descritivos de variáveis, funções e componentes
- Se necessário documentar algo complexo, usar documentação externa (arquivos .md) ou JSDoc apenas quando absolutamente necessário para APIs públicas
- Remover comentários existentes quando possível, mantendo apenas os essenciais para clareza de lógica complexa

### Clean Architecture - Frontend
- Utilize Clean Architecture: `pages/` → `components/[feature]/` → `hooks/` → `services/`
- Priorize componentização e reutilização de componentes
- Nunca coloque lógica de negócio em páginas - use hooks ou serviços
- Componentes específicos de feature devem estar em `components/[feature]/` (ex: `components/purchasing/`, `components/budgets/`)
- Componentes UI reutilizáveis devem estar em `components/ui/`

### Responsividade Obrigatória
- Todas as telas devem ser responsivas para mobile (< 640px), tablet (640px - 1023px) e desktop (≥ 1024px)
- Use breakpoints Tailwind: `sm:` (640px+), `md:` (768px+), `lg:` (1024px+), `xl:` (1280px+), `2xl:` (1536px+)
- Mobile First: Sempre comece com estilos para mobile e adicione breakpoints maiores
- **Grids e Layouts**:
  - Cards de estatísticas: `grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4` ou similar
  - Tabelas: Use `ResponsiveTable` que renderiza cards em mobile/tablet
  - Formulários: `grid-cols-1 sm:grid-cols-2 md:grid-cols-3` para campos
- **Tamanhos de Fonte**:
  - Títulos: `text-xl sm:text-2xl md:text-3xl`
  - Texto normal: `text-sm sm:text-base`
  - Labels: `text-xs sm:text-sm`
  - Valores em cards: `text-lg sm:text-xl md:text-2xl`
- **Espaçamentos**:
  - Padding: `p-3 sm:p-4` ou `p-4 sm:p-6`
  - Gaps: `gap-2 sm:gap-3 md:gap-4`
  - Margens: `m-2 sm:m-4`
- **Botões**:
  - Em mobile: apenas ícones quando possível (`h-7 w-7 sm:h-8 sm:w-8`)
  - Em desktop: ícone + texto (`hidden sm:inline`)
  - Stack vertical em mobile: `flex-col sm:flex-row`
- **Modais/Dialogs**:
  - Largura: `max-w-[95vw] sm:max-w-md md:max-w-lg lg:max-w-2xl`
  - Altura: `max-h-[90vh]` com `overflow-y-auto`
  - Padding: `p-4 sm:p-6`
- **Tabs/Navegação**:
  - Scroll horizontal em mobile: `overflow-x-auto flex lg:grid`
  - Tabs: `text-xs sm:text-sm` com `flex-shrink-0`
  - Abreviações em mobile quando necessário
- **Tabelas**:
  - Use `ResponsiveTable` para renderização automática mobile/desktop
  - Em mobile: cards com informações principais
  - Em desktop: tabela completa com todas as colunas
  - Colunas com `priority` e `minWidth` para ocultação inteligente
- **Valores Monetários**:
  - Tamanho: `text-xs sm:text-sm md:text-base`
  - Sempre use `whitespace-nowrap` para evitar quebra
  - Use `truncate` quando necessário
- **Ícones**:
  - Tamanhos responsivos: `w-3 h-3 sm:w-4 sm:h-4` ou `w-4 h-4 sm:w-5 sm:h-5`
  - Espaçamento: `gap-1 sm:gap-2` ou `gap-2 sm:gap-3`
- **Cards de Estatísticas**:
  - Padding: `p-3 sm:p-4`
  - Ícones: `w-4 h-4 sm:w-5 sm:h-5` com `p-1.5 sm:p-2`
  - Textos: `text-xs sm:text-sm` para labels, `text-lg sm:text-xl md:text-2xl` para valores
  - Use `truncate` e `min-w-0 flex-1` para evitar overflow
- **Sidebar**:
  - Oculto em mobile/tablet (< 1024px): `hidden lg:block`
  - Use hamburger menu (`Sheet`) para mobile/tablet
- **Teste sempre**: Verifique em diferentes tamanhos de tela antes de finalizar

### Backend
- Para Supabase Edge Functions: organize por domínio em `supabase/functions/[domain]/`
- Para migrations SQL: use `supabase/migrations/` com nomenclatura descritiva
- Separe lógica de negócio em funções SQL quando possível
- Use RLS (Row Level Security) para segurança de dados
- Edge Functions devem ser stateless e usar injeção de dependência quando aplicável

### Nomeação
- PascalCase: classes, componentes, tipos/interfaces
- camelCase: funções, variáveis, hooks (prefixo `use`)
- snake_case: colunas do banco de dados

### Tipagem
- Tipagem forte com TypeScript - evite `@ts-nocheck` e `@ts-expect-error`
- Sempre tipar parâmetros, retornos de funções e props de componentes

### Testes
- Implementar testes unitários para hooks e casos de uso críticos
- Testes de integração para fluxos críticos (quando estrutura de testes estiver implementada)

